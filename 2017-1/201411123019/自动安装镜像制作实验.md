#  自动安装镜像制作实验

#
#使用工具
![](1.png)

## PuTTY
* 远程登陆虚拟机进行命令行操作的工具
## psftp
* 与虚拟机进行文件上传，下载的工具

	
______
#实验过程
##第一步
* 为虚拟机添加一个hostonly的网卡用于与宿主机进行连接
* 首先使用ifconfig -a查看所有网卡，之后使用dhclient命令为网卡分配ip地址

![](2.png)	


![](3.png)

* 使用PuTTY进行远程登陆

![](4.png)

##第二步
* 登陆成功后，使用wget命令下载镜像，并进行创建目录，拷贝等工作


![](5.png)

* 下载成功，镜像已经保存

![](6.png)

* 使用vm命令进入修改默认自动安装文件，同时使用：x！保存退出

![](7.png)

![](8.png)

##第三步
* 拷贝seed文件到cd/preseed/目录下
* 切换到目录下使用wget加给定修改后seed文件的链接地址（和下载镜像一样）
* 可见autoinstall.seed文件已经下载到目录下

![](9.png)

##第四步
* 计算生成心的MD5核对文件，替换原有文件，不然自动安装会报错
* 生成后使用mv命令移动替换cd下原有MD5sum文件
![](10.png)

##第五步
* 生成新的设定完成自动安装后的新镜像
* 安装过程中发现缺少一个包，安装后可以生成镜像了

![](14.png)
![](11.png)

##第六步
* 最后我们就可以将生成的镜像使用psftp拷贝出来，进行安装了

![](15.png)


#制作成功

